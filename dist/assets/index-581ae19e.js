(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))g(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&g(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function g(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();let c=!0,m,d;fetch("https://www.deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1").then(e=>e.json()).then(e=>(c=!1,m=e,e));let r={name:"Rawle",chips:145},i=0,l="",h=!1,f=!1,E=document.getElementById("message-el"),k=document.getElementById("sum-el");document.getElementById("cards-el");let p=document.getElementById("player-el");p.textContent=`${r.name}: $${r.chips}`;function u(e){return console.log(e),e==="ACE"?11:e==="JACK"||e==="QUEEN"||e==="KING"?10:Number(e)}function I(){f=!0,r.chips-=5,p.textContent=`${r.name}: $${r.chips}`,document.getElementsByClassName("card-img").length>0&&(document.getElementById("cards-container").innerHTML=""),d=[],c||(c=!0,fetch(`https://www.deckofcardsapi.com/api/deck/${m.deck_id}/draw/?count=2`).then(e=>e.json()).then(e=>(d=e,i=u(e.cards[0].value)+u(e.cards[1].value),y(e.cards),c=!1,w(),e)))}function y(e){e.map(s=>{let o=document.createElement("img");o.setAttribute("id",s.code),o.classList.add("card-img"),o.src=s.image,document.getElementById("cards-container").appendChild(o)})}function w(){k.textContent="Sum :"+i,i<=20?l="Do you want to draw a new card?":i===21?(l="You've got Blackjack!",h=!0,r.chips+=10,p.textContent=`${r.name}: $${r.chips}`):(l="You're out of the game!",f=!1),E.textContent=l}function B(){f&&!h&&!c&&(c=!0,fetch(`https://www.deckofcardsapi.com/api/deck/${m.deck_id}/draw/?count=1`).then(e=>e.json()).then(e=>(d.cards.push(e.cards[0]),d.remaining=e.remaining,i+=u(e.cards[0].value),y(e.cards),c=!1,w(),e)))}document.getElementById("start").addEventListener("click",I);document.getElementById("newCard").addEventListener("click",B);
